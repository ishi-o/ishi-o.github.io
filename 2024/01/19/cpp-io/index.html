<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 8.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=consolas:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"ishi-o.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":true,"version":"8.23.2","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"github","dark":"github-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"language":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta property="og:type" content="article">
<meta property="og:title" content="Cpp: I&#x2F;O">
<meta property="og:url" content="https://ishi-o.github.io/2024/01/19/cpp-io/index.html">
<meta property="og:site_name" content="Ishio">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.1.1.1.typedef.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.1.1.2.typedef.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.1.2.classes.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.2.1.ios_base_Ios_Iostate.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.2.2.ios_base_iostate.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.2.3.ios_base_bit.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.2.4.1.ios_base_fmtflags.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.2.4.2.ios_base_fmtflags.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.2.4.3.ios_base_fmtflags.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.2.4.4.ios_base_fmtflags.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.2.5.ios_base_setf.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.2.6.1.ios_base_openmode.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.2.6.2.ios_base_openmode.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.3.1.ios_method.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.3.2.ios_clear()&setstate().png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.3.3.1.ios_checkErr.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.3.3.2.ios_checkErr.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.3.4.1.ios_exceptions.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.3.4.2.ios_exceptions.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.3.5.ios_hex.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.4.1.iostream_exceptions.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.4.2.iostream_strInput.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.4.3.iostream_ignore.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.4.5.iostream_ctor.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.4.4.iostream_endl.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.5.1.fstream_ctor.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.5.2.fstream_detor.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.6.1.fstream_open.png">
<meta property="og:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.6.2.fstream_close.png">
<meta property="article:published_time" content="2024-01-19T00:00:00.000Z">
<meta property="article:modified_time" content="2025-12-06T11:40:07.515Z">
<meta property="article:author" content="ishio">
<meta property="article:tag" content="I&#x2F;O API">
<meta property="article:tag" content="beginner">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ishi-o.github.io/2024/01/19/cpp-io/1.1.1.1.typedef.png">


<link rel="canonical" href="https://ishi-o.github.io/2024/01/19/cpp-io/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://ishi-o.github.io/2024/01/19/cpp-io/","path":"2024/01/19/cpp-io/","title":"Cpp: I/O"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Cpp: I/O | Ishio</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.7.0/mermaid.min.js","integrity":"sha256-4+IKDqhZ/sXjc8Wtl2/MsxI4e0s1KpEVdbEP7V/Lz8U="}}</script>
  <script src="/js/third-party/tags/mermaid.js" defer></script>





  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Ishio</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="Searching..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#c%E9%A3%8E%E6%A0%BC%E7%9A%84io"><span class="nav-number">1.</span> <span class="nav-text">C++风格的I&#x2F;O</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#stdinput"><span class="nav-number">1.1.</span> <span class="nav-text">stdInput</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#cin"><span class="nav-number">1.1.1.</span> <span class="nav-text">cin</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#string%E7%9A%84%E8%BE%93%E5%85%A5"><span class="nav-number">1.1.2.</span> <span class="nav-text">string的输入</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#stdoutput"><span class="nav-number">1.2.</span> <span class="nav-text">stdOutput</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#cout"><span class="nav-number">1.2.1.</span> <span class="nav-text">cout</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B2%BE%E7%BB%86%E6%8E%A7%E5%88%B6%E8%BE%93%E5%87%BA"><span class="nav-number">1.2.2.</span> <span class="nav-text">精细控制输出</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E7%8A%B6%E6%80%81"><span class="nav-number">1.3.</span> <span class="nav-text">流状态</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E4%BD%8D"><span class="nav-number">1.3.1.</span> <span class="nav-text">状态位</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E7%8A%B6%E6%80%81%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">1.3.2.</span> <span class="nav-text">检查状态的方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%85%E9%99%A4%E7%8A%B6%E6%80%81%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">1.3.3.</span> <span class="nav-text">清除状态的方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6io"><span class="nav-number">1.4.</span> <span class="nav-text">文件I&#x2F;O</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E6%B5%81%E5%92%8C%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6"><span class="nav-number">1.4.1.</span> <span class="nav-text">创建文件流和关闭文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.4.2.</span> <span class="nav-text">文件模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%BB%E5%86%99%E4%B8%8E%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="nav-number">1.4.3.</span> <span class="nav-text">读写与异常处理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%99%84"><span class="nav-number">1.5.</span> <span class="nav-text">附</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%84%E7%B1%BB%E5%85%B3%E8%81%94"><span class="nav-number">1.5.1.</span> <span class="nav-text">各类关联</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ios_base.h"><span class="nav-number">1.5.2.</span> <span class="nav-text">ios_base.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#basic_ios.h"><span class="nav-number">1.5.3.</span> <span class="nav-text">basic_ios.h</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#istreamostream"><span class="nav-number">1.5.4.</span> <span class="nav-text">istream&amp;ostream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ifstreamofstream"><span class="nav-number">1.5.5.</span> <span class="nav-text">ifstream&amp;ofstream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fstream"><span class="nav-number">1.5.6.</span> <span class="nav-text">fstream</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">ishio</p>
  <div class="site-description" itemprop="description">Just for fun!</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">132</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">57</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">89</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ishi-o" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ishi-o" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
        <div class="sidebar-inner sidebar-post-related">
          <div class="animated">
              <div class="links-of-blogroll-title"><i class="fa fa-signs-post fa-fw"></i>
    Related Posts
  </div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2025/04/07/algo-fastio/" rel="bookmark">
        <time class="popular-posts-time">2025-04-07</time>
        <br>
      算法竞赛: 常数优化之快读快写
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2024/03/14/cpp-string/" rel="bookmark">
        <time class="popular-posts-time">2024-03-14</time>
        <br>
      Cpp STL: std::string
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2023/10/09/c-beginner/" rel="bookmark">
        <time class="popular-posts-time">2023-10-09</time>
        <br>
      C: 基本语法
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2023/10/03/markdown-beginner/" rel="bookmark">
        <time class="popular-posts-time">2023-10-03</time>
        <br>
      Markdown: 简单易学的笔记语言
      </a>
    </li>
  </ul>

          </div>
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://ishi-o.github.io/2024/01/19/cpp-io/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ishio">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ishio">
      <meta itemprop="description" content="Just for fun!">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Cpp: I&#x2F;O | Ishio">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Cpp: I/O
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-01-19 00:00:00" itemprop="dateCreated datePublished" datetime="2024-01-19T00:00:00+00:00">2024-01-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-12-06 11:40:07" itemprop="dateModified" datetime="2025-12-06T11:40:07+00:00">2025-12-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming/" itemprop="url" rel="index"><span itemprop="name">Programming</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming/C-Cpp/" itemprop="url" rel="index"><span itemprop="name">C/Cpp</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>3.9k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>14 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><!-- placeholder -->
<span id="more"></span>
<h1 id="c风格的io"><code>C++</code>风格的<code>I/O</code></h1>
<p><code>I/O</code>是一门语言很重要的部分，<code>&lt;iostream&gt;</code>之所以含有相当一部分好用的函数，是因为在<code>I/O</code>实现时各个头文件互相包含，使得只需要包含<code>&lt;iostream&gt;</code>就能够使用很多的东西</p>
<p>但如果要用<code>STL</code>、实现文件交互等，<code>&lt;iostream&gt;</code>并没有包含它们，推荐使用万能头文件<code>&lt;bits/stdc++.h&gt;</code>，包含几乎所有会用到的东西</p>
<h2 id="stdinput"><code>stdInput</code></h2>
<h3 id="cin"><code>cin</code></h3>
<p>在<code>C++</code>中，<code>istream</code>类的对象<code>cin</code>(在<code>&lt;iostream&gt;</code>中声明)替代了<code>scanf</code>，它自动创建标准输入缓冲区，从标准输入流提取输入</p>
<p>这些对象被称为流对象，它将流和对象联系起来，一个非<code>iostream,fstream</code>类流对象只和一个缓冲区、两端(程序端、输出输入端)相关联</p>
<p>最简单的获取输入的代码如下，它是格式化流插入符(即会将读取的字符串转换成后接对象的相应类型，除了它，其它方法都是非格式化读取)，接受一个<strong>引用</strong>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cin &gt;&gt; identifier;     <span class="comment">// 有回显、有缓冲、忽略空格与换行,遇空格或回车停止</span></span><br></pre></td></tr></table></figure>
<p>自然想到，如何读取空格，实现面向行的输入？<code>cin</code>有两种方法可以实现：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cin.<span class="built_in">getline</span>(<span class="type">char</span>*,std::streamsize);<span class="comment">// 读取size-1个字符后或遇到换行符停止,且丢弃换行符</span></span><br><span class="line">cin.<span class="built_in">get</span>(<span class="type">char</span>*,std::streamsize);  <span class="comment">// 读取size-1个字符后或遇到换行符停止,将换行符保留在缓冲区</span></span><br></pre></td></tr></table></figure>
<p><code>std::streamsize</code>是<code>long int</code>的重命名，即有符号整型；它们的共同特性是都不会将换行符读入到字符串中，且可以添加第三个<code>char</code>型参数表示自定义终止字符</p>
<p>如果需要只读取缓冲区内的任意一字符，<code>cin</code>有重载的<code>get()</code>方法，其一的用法类似<code>getchar()</code>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ch = cin.<span class="built_in">get</span>();      <span class="comment">// 读取一字符,返回它的字符编码;如遇到EOF,则返回eof(一个负数)</span></span><br><span class="line">cin.<span class="built_in">get</span>(<span class="type">char</span>&amp; ch);     <span class="comment">// 将读取的字符赋值给ch;如遇到EOF,则返回0</span></span><br></pre></td></tr></table></figure>
<p>它们常用于抛弃掉缓冲区的换行符，但一次调用只能丢弃一个字符，<code>cin</code>提供<code>ignore()</code>方法来一次性抛弃多个字符：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cin.<span class="built_in">ignore</span>(std::streamsize n,delim=<span class="string">&#x27;\n&#x27;</span>); <span class="comment">// 抛弃n个字符后或遇到delim并抛弃它后停止</span></span><br></pre></td></tr></table></figure>
<p><code>operator&gt;&gt;(),cin.getline(),cin.get(...),cin.get(char),cin.ignore()</code>都返回<code>cin</code>的引用，这意味着它们可以<strong>链式调用</strong>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cin.<span class="built_in">getline</span>(a,b).<span class="built_in">getline</span>(a,b);  <span class="comment">// 读取两行(或是读取一串较长行)</span></span><br><span class="line">cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">cin.<span class="built_in">get</span>(ch).<span class="built_in">get</span>();     <span class="comment">// 连续读取两字符</span></span><br><span class="line">(cin.<span class="built_in">get</span>(ch)&gt;&gt;a).<span class="built_in">get</span>();</span><br><span class="line">cin.<span class="built_in">get</span>().<span class="built_in">get</span>(ch);     <span class="comment">// 错误,get(void)返回的不是istream引用</span></span><br></pre></td></tr></table></figure>
<p>如果非要给<code>cin</code>改名，可以选择创建引用<code>istream&amp; in=cin</code>(一般不会直接使用<code>istream</code>或<code>ostream</code>的构造函数，只有在创建文件流对象的时候会间接调用<code>i(o)stream(sb&amp;)</code>、或是想实现多缓冲区输入输出时会直接使用它，在这里不作讨论)</p>
<h3 id="string的输入"><code>string</code>的输入</h3>
<p>上述方法都不支持<code>string</code>类对象，然而显然<code>string</code>类更常用，于是<code>&lt;string&gt;</code>中有一个全局函数：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">getline</span>(istream&amp;,string&amp;,<span class="type">char</span>=<span class="string">&#x27;\n&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>三个参数，第一个为自定义的输入流，通常是标准输入流<code>cin</code>，第三个参数为指定的结束符(默认为换行符)</p>
<p>有些编译器在使用<code>string</code>类后默认添加<code>&lt;string&gt;</code>，所以就算没有包含它也能运行，但<code>getline()</code>是<code>&lt;string&gt;</code>的函数，应该养成习惯事先包含它，以免出错</p>
<h2 id="stdoutput"><code>stdOutput</code></h2>
<h3 id="cout"><code>cout</code></h3>
<p>与<code>cin</code>的大部分内容类似，<code>cout</code>是<code>ostream</code>类的对象，它与标准输出流相关联，格式化输出如下，<code>operator&lt;&lt;</code>接受<strong>引用或常量</strong>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; identifier &lt;&lt; constant;</span><br></pre></td></tr></table></figure>
<p>由于<code>string</code>类定义的<code>operator&lt;&lt;()</code>能完整输出整个字符串，所以输出部分不像输入一样有专门的函数</p>
<p>对应<code>putchar()</code>，<code>cout</code>也有类似的方法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cout.<span class="built_in">put</span>(<span class="type">char</span>)  <span class="comment">// 输出单个字符</span></span><br></pre></td></tr></table></figure>
<p><code>operator&lt;&lt;(),cout.put(char)</code>都返回指向<code>cout</code>的引用，所以<code>cout</code>也可以链式输出：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(cout &lt;&lt; str &lt;&lt; endl).<span class="built_in">put</span>(<span class="number">48</span>)</span><br></pre></td></tr></table></figure>
<p>标准输出缓冲区采用行缓冲，它遇到换行符或<code>eof</code>时将自动刷新缓冲区，此外还提供了两个控制符：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; flush &lt;&lt; endl;  <span class="comment">// flush直接刷新缓冲区,endl在缓冲区中插入换行符后再刷新它</span></span><br></pre></td></tr></table></figure>
<h3 id="精细控制输出">精细控制输出</h3>
<p><code>C++</code>提供一种不逊于<code>printf()</code>那样精细控制输出位数、输出形式的，更简洁的输出方式，那就是许多控制符</p>
<p>除了刷新缓冲区的<code>flush</code>和<code>endl</code>(在<code>&lt;ostream&gt;</code>中)，其它常用的控制符如下：</p>
<ul>
<li><code>hex,oct,dec</code>：将整型数据以十六、八、十进制输出，在<code>&lt;bits/basic_ios.h&gt;</code>中</li>
<li><code>setprecision(int)</code>：永久设置数据的精度(显示数据的总位数)</li>
<li><code>setfill(char)</code>：永久设置字段中填充的字符(默认为空格)</li>
<li><code>setw(int)</code>：暂时设置字段的宽度，在输出下一数据后恢复默认字段值(即0)，用于对齐画面等</li>
</ul>
<p>除了第一条，其它三条控制符都需要包含头文件<strong><code>&lt;iomanip&gt;</code></strong></p>
<p>这些控制符实际上是调用<code>iostream</code>类的祖宗类<code>ios_base</code>的成员函数<code>setf()</code>和部分成员，来实现控制输出的功能，其它控制符详见<a
href="#~fmtflags"><code>fmtflags</code></a><a id="fmtflags"></a></p>
<p>注：<code>fmtflags</code>不是控制符，而只是部分控制符<strong>调用了<code>setf(fmtflags)</code></strong>而已，<code>ios_base::fmtflags</code>和后续将提到的<code>ios_base::iostate,ios_base::openmode</code>都是一串二进制掩码(<code>bitmask</code>)，这意味着它们可以<strong>通过<code>'|'</code>运算符叠加</strong>，在<code>ios_base</code>中提供了它们的一些枚举常量</p>
<p><code>ios</code>(即<code>basic_ios&lt;char&gt;</code>)类是<code>ios_base</code>类的派生类，能使用它的所有公开和保护性成员，所以直接用<code>ios::badbit</code>等也是正确的，所以在<strong>除定义外的说明和实例中都使用<code>ios::</code></strong></p>
<h2 id="流状态">流状态</h2>
<h3 id="状态位">状态位</h3>
<p>所有流对象都有称为流状态的属性，流的打开或关闭由三个状态位决定：</p>
<ul>
<li><code>badbit</code>：系统性错误时(如文件不存在、文件不允许访问等)被设置，这种错误一般无法恢复</li>
<li><code>failbit</code>：格式错误时(如输入字符赋给整型对象、<code>get(str)</code>读取到空行等)被设置，这种错误可以恢复</li>
<li><code>eofbit</code>：遇到<code>eof</code>时被设置</li>
</ul>
<p><code>ios_base</code>类中有<code>ios_base::badbit,ios_base::failbit,ios_base::eofbit,ios_base::goodbit</code>四种标准状态常量，它们以三位二进制数表示，分别为<code>001,100,010,000</code></p>
<p>当这三个状态位都被清除(即<code>0</code>)时，<code>goodbit</code>将被清除，表示这个流一切正常，是打开的</p>
<h3 id="检查状态的方法">检查状态的方法</h3>
<p>可通过对应的方法(<code>bad(),fail(),eof(),rdstate()</code>)查看这四个位的状态(具体应查看头文件定义，实际上有略微不同)</p>
<p><code>operator!()</code>和<code>rdstate()</code>效果一样，而<code>good()</code>是与<code>operator!()</code>相反的方法，当<code>goodbit=0</code>时返回<code>true</code></p>
<p>这些方法都在<code>ios</code>中定义</p>
<p>需要清楚的是，<code>rdstate()</code>的返回值是<code>ios_base::iostate</code>对象，而其它方法都返回布尔类型，这意味着<code>rdstate()</code>方法还可以通过与标准状态常量对比进行错误检测</p>
<p>这些方法都可用于检测错误，例如<code>rdstate()</code>可用于粗略地检查所有错误类型，出错则返回真</p>
<p>这些流并不会在出错时报错，这涉及到<code>ios::exceptions()</code>方法，它默认返回<code>goodbit</code>，只有当<strong><code>f.exceptions() &amp; f.rdstate()</code>不为零</strong>时，程序才会抛出<code>ios_base::failure</code>错误</p>
<p>如果需要让流报错，应改变<code>exceptions()</code>的返回值(使用它的重载函数<code>exceptions(iostate)</code>)：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例</span></span><br><span class="line">f.<span class="built_in">exceptions</span>(ios::failbit);  <span class="comment">// 设置成100,则一旦流的failbit被设置,将报错</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125; <span class="built_in">catch</span> (ios::failure&amp; message)&#123;</span><br><span class="line">    cerr &lt;&lt; message.<span class="built_in">what</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="清除状态的方法">清除状态的方法</h3>
<p><code>ios::clear()</code>和<code>ios::setstate()</code>方法可将流设置成正常，原理有所不同：</p>
<ul>
<li><code>clear()</code>将该流的状态强制改成提供的状态，默认提供<code>0</code>，即<code>ios::goodbit</code></li>
<li><code>setstate()</code>将该流的状态和提供的状态相叠加，相当于两个二进制数进行了<strong>按位或</strong>操作，实际上，进行<code>f.setstate(state)</code>相当于进行<code>f.clear(f.rdstate() | state)</code></li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义</span></span><br><span class="line">file.<span class="built_in">clear</span>(ios_base::iostate=<span class="number">0</span>);  <span class="comment">// 默认参数为000,不设置任何位,即清除所有三位</span></span><br><span class="line">file.<span class="built_in">setstate</span>(ios_base::iostate);  <span class="comment">// 必须提供参数,只会设置它而不影响其它两位</span></span><br><span class="line"><span class="comment">// 示例</span></span><br><span class="line">file.<span class="built_in">clear</span>(ios::eofbit);    <span class="comment">// 参数为010,设置eofbit,清除其它两位</span></span><br><span class="line">file.<span class="built_in">clear</span>(ios::eofbit | ios::badbit) <span class="comment">// 参数为011,清除failbit,设置其它两位</span></span><br></pre></td></tr></table></figure>
<p>当然，可以用其他流的状态作为参数，只是这没有意义</p>
<p>常用不带参数的<code>clear()</code>方法来强制打开流，而<code>setstate()</code>常被流对象自动调用，来叠加到自身的流状态里</p>
<h2 id="文件io">文件<code>I/O</code></h2>
<p>实现文件<code>IO</code>需要包含头文件<code>&lt;fstream&gt;</code>，创建输入流则创建<code>ifstream</code>对象，创建输出流则创建<code>ofstream</code>对象，只不过流的另一端由键盘和显示器变成了文件</p>
<p>因为<code>ifstream,ofstream</code>分别为<code>istream,ostream</code>的派生类，所以可以像<code>cin,cout</code>一样使用方法，而除此之外，文件<code>IO</code>有额外的成员和方法</p>
<h3 id="创建文件流和关闭文件">创建文件流和关闭文件</h3>
<p><code>ifstream</code>和<code>ofstream</code>类中额外定义了默认构造函数和带字符串(有<code>char*</code>类型和<code>string&amp;</code>类型的两个重载)参数的构造函数</p>
<p>以<code>ifstream</code>为例，初始化一个文件流对象如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义</span></span><br><span class="line">ifstream fin;  <span class="comment">// 默认构造函数,这会创建一个新的缓冲区(fb)并将fb的引用传递给基类初始化器</span></span><br><span class="line"><span class="comment">// 将字符串传递给构造函数,它将创建缓冲区并以默认为ios::in的模式调用open(&quot;fileName&quot;)</span></span><br><span class="line"><span class="function">ifstream <span class="title">fin</span><span class="params">(<span class="type">char</span>*,ios_base::openmode=ios_base::in)</span></span>;</span><br><span class="line"><span class="function">ifstream <span class="title">fin</span><span class="params">(string&amp;,ios_base::openmode=ios_base::in)</span></span>;</span><br></pre></td></tr></table></figure>
<p>一个文件流对象除了继承<code>istream/ostream</code>的用于<strong>格式化输入输出的流装置</strong>外，还额外包含一个私有的<code>filebuf</code>对象，用于<strong>与文件进行底层交互</strong>；例如文件流对象含有的成员函数<code>open()</code>和<code>close()</code>，它们实质上是<strong>调用<code>filebuf</code>类</strong>的<code>open()</code>和<code>close()</code>，只是在类里面重写了一遍方便使用罢了</p>
<p><code>fstream</code>类的对象较为特殊，它继承了两个缓冲区，目的在于用一个对象实现对文件的输入和输出</p>
<p>它们的析构函数是空的，这意味着文件是通过方法<code>close()</code>关闭的，即关闭文件不影响流对象的重复使用，而流的打开与关闭和<strong>流状态</strong>有关；这也更说明，流不是一个容器，而数据也只会<strong>暂时</strong>存储在缓冲区中</p>
<h3 id="文件模式">文件模式</h3>
<p>对于一个文件流对象<code>fio</code>，如果要<strong>检查它的流是否异常</strong>(而不是文件是否打开)，一般不用像<code>cin,cout</code>一样的<code>operator!(),rdstate()</code>方法，而是成员函数<strong><code>is_open()</code></strong>(还是调用<code>filebuf</code>类的成员，但这次是间接调用了<code>file</code>类的成员)，它能检查出“文件打开方式错误”一类的异常</p>
<p><code>C++</code>的文件模式设计与<code>C</code>有许多共通之处，但更好理解和记忆：</p>
<table border="2" width="50px">
<tr>
<th>
ios_base::openmode(以下省略ios::)
</th>
<th>
C风格
</th>
<th>
意义
</th>
<th>
文件存在
</th>
<th>
文件不存在
</th>
</tr>
<tr>
<td>
in(ifstream默认值)
</td>
<td>
“r”
</td>
<td>
读打开
</td>
<td>
正常
</td>
<td>
异常(failbit+badbit)
</td>
</tr>
<tr>
<td>
out(ofstream默认值;默认加上trunc)
</td>
<td>
“w”
</td>
<td>
写打开
</td>
<td>
清空文件
</td>
<td>
创建空文件
</td>
</tr>
<tr>
<td>
ate
</td>
<td>
fseek(file*,0,SEEK_END)
</td>
<td>
跳到eof
</td>
<td colspan="2">
文件必须已经打开
</td>
</tr>
<tr>
<td>
app(默认加上out)
</td>
<td>
“a”
</td>
<td>
追加写打开
</td>
<td>
不会被清空,并在文件尾开始添加内容
</td>
<td>
创建空文件
</td>
</tr>
<tr>
<td>
trunc
</td>
<td>
-
</td>
<td>
清空文件
</td>
<td colspan="2">
文件必须已经写打开
</td>
</tr>
<tr>
<td>
binary
</td>
<td>
“b”
</td>
<td>
二进制模式打开
</td>
<td colspan="2">
文件必须已经打开
</td>
</tr>
<tr>
<td>
in | out(fstream默认值)
</td>
<td>
“r+”
</td>
<td>
读写打开
</td>
<td>
不清空文件,并在文件开头开始添加内容
</td>
<td>
异常(failbit+badbit)
</td>
</tr>
<tr>
<td>
in | out | trunc
</td>
<td>
“w+”
</td>
<td>
读写打开
</td>
<td>
清空文件
</td>
<td>
创建空文件
</td>
</tr>
<tr>
<td>
other | ate
</td>
<td>
“other”后,fseek(file*,0,SEEK_END)
</td>
<td>
打开文件后跳到eof
</td>
<td colspan="2">
视other而定
</td>
</tr>
<tr>
<td>
other | binary
</td>
<td>
“other+b”
</td>
<td>
二进制other模式打开
</td>
<td colspan="2">
视other而定
</td>
</tr>
</table>
<p>以下为常用模式：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例</span></span><br><span class="line"><span class="built_in">ofstream</span>(<span class="string">&quot;tmp/old&quot;</span>);  <span class="comment">// 创建空文件或覆盖旧文件,并写打开; 和显式声明out或out|trunc等价</span></span><br><span class="line"><span class="built_in">ofstream</span>(<span class="string">&quot;file&quot;</span>,ios::app);  <span class="comment">// 追加写打开; 和显式声明out|app等价</span></span><br><span class="line">ifstream(<span class="string">&quot;file&quot;</span>);   <span class="comment">// 只读打开; 和显式声明in等价</span></span><br><span class="line"><span class="built_in">fstream</span>(<span class="string">&quot;file&quot;</span>);   <span class="comment">// 读写打开文件,不清空文件; 和显式声明in|out等价</span></span><br><span class="line"><span class="built_in">fstream</span>(<span class="string">&quot;tmp/old&quot;</span>,ios::in|ios::out|ios::trunc);<span class="comment">// 创建空文件或覆盖旧文件,并读写打开; 不常用</span></span><br><span class="line"><span class="comment">// 用于图像或其它二进制资源的读写:</span></span><br><span class="line"><span class="built_in">ofstream</span>(<span class="string">&quot;Icon/other&quot;</span>,ios::out|ios::binary);</span><br><span class="line">ifstream(<span class="string">&quot;Icon/other&quot;</span>,ios::in|ios::binary);</span><br></pre></td></tr></table></figure>
<h3 id="读写与异常处理">读写与异常处理</h3>
<p>一般来说，只要打开或关闭文件正常，那么文件流就会保持正常，对于文本内容，像使用<code>cin,cout</code>一样即可；而对于<strong>二进制</strong>内容，可以用<code>read()</code>(读方法，在<code>istream</code>类中)和<code>write()</code>(写方法，在<code>ostream</code>类中)，它们和其它输入输出方法的区别是在读取/输出时不会添加<code>\0</code>，且<code>read()</code>函数不提供默认或指定的终止符(<code>getline()</code>默认遇回车停止)：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fin.<span class="built_in">read</span>(<span class="type">char</span>*,<span class="type">int</span>);  <span class="comment">// 读取指定个字符到char*中,不支持string类</span></span><br><span class="line">fout.<span class="built_in">write</span>(<span class="type">char</span>*,<span class="type">int</span>);  <span class="comment">// 向文件写入指定个字符,不支持string类</span></span><br></pre></td></tr></table></figure>
<p>当然在关闭文件后，为了防止读到<code>EOF</code>或其他问题影响这个流对象的再使用，应选择改变<code>exceptions()</code>，或是不管不顾直接<code>clear()</code>强行打开流</p>
<h2 id="附">附</h2>
<p>以阅读头文件的方式回顾所学(<code>Doxygen</code>风格注释)，以下是部分内容在头文件内的定义(小标题是头文件名)：</p>
<h3 id="各类关联">各类关联</h3>
<p>重命名：</p>
<p><img src=".\1.1.1.1.typedef.png" alt="1.typedef" style="zoom:50%;" /></p>
<p><img src=".\1.1.1.2.typedef.png" alt="2.typedef" style="zoom:50%;" /></p>
<p>继承关系：</p>
<p><img src=".\1.1.2.classes.png" alt="classes" style="zoom: 80%;" /></p>
<h3 id="ios_base.h"><code>ios_base.h</code></h3>
<p>以下都属于<code>ios_base</code>类：</p>
<p>流状态常量：</p>
<p><img src=".\1.2.1.ios_base_Ios_Iostate.png" alt="ios_base_Ios_Iostate" style="zoom:50%;" /></p>
<p><img src=".\1.2.2.ios_base_iostate.png" alt="ios_base_iostate" style="zoom:50%;" /></p>
<p><img src=".\1.2.3.ios_base_bit.png" alt="ios_base_bit" style="zoom:50%;" /></p>
<p><a href="#fmtflags">控制符相关</a><a id="~fmtflags"></a>：</p>
<p><img src=".\1.2.4.1.ios_base_fmtflags.png" alt="1.ios_fmtflags" style="zoom:50%;" /></p>
<p><img src=".\1.2.4.2.ios_base_fmtflags.png" alt="2.ios_fmtflags" style="zoom:50%;" /></p>
<p><img src=".\1.2.4.3.ios_base_fmtflags.png" alt="3.ios_fmtflags" style="zoom:50%;" /></p>
<p><img src=".\1.2.4.4.ios_base_fmtflags.png" alt="4.ios_fmtflags" style="zoom:50%;" /></p>
<p><img src=".\1.2.5.ios_base_setf.png" alt="ios_setf" style="zoom:50%;" /></p>
<p>文件模式：</p>
<p><img src=".\1.2.6.1.ios_base_openmode.png" alt="1.ios_base_openmode" style="zoom:50%;" /></p>
<p><img src=".\1.2.6.2.ios_base_openmode.png" alt="1.ios_base_openmode" style="zoom:50%;" /></p>
<h3 id="basic_ios.h"><code>basic_ios.h</code></h3>
<p><img src=".\1.3.1.ios_method.png" alt="ios_method" style="zoom:50%;" /></p>
<p><img src=".\1.3.2.ios_clear()&setstate().png" alt="ios_clear()&setstate()" style="zoom:50%;" /></p>
<p><img src=".\1.3.3.1.ios_checkErr.png" alt="1.ios_checkErr" style="zoom:50%;" /></p>
<p><img src=".\1.3.3.2.ios_checkErr.png" alt="2.ios_checkErr" style="zoom:50%;" /></p>
<p><img src=".\1.3.4.1.ios_exceptions.png" alt="1.ios_exceptions" style="zoom:50%;" /></p>
<p><img src=".\1.3.4.2.ios_exceptions.png" alt="2.ios_exceptions" style="zoom:50%;" /></p>
<p>以上是<code>ios</code>类中的成员，下面这个控制符以及<code>oct,dec</code>等是本头文件内的内联函数：</p>
<p><img src=".\1.3.5.ios_hex.png" alt="ios_hex" style="zoom:50%;" /></p>
<h3
id="istreamostream"><code>istream</code>&amp;<code>ostream</code></h3>
<p>以<code>istream</code>为例，<code>operator&lt;&lt;</code>与其类似：</p>
<p><img src=".\1.4.1.iostream_exceptions.png" alt="iostream_exceptions" style="zoom:50%;" /></p>
<p><code>get(...)</code>与其类似：</p>
<p><img src=".\1.4.2.iostream_strInput.png" alt="1.4.2.iostream_strInput" style="zoom:50%;" /></p>
<p><img src=".\1.4.3.iostream_ignore.png" alt="1.4.3.iostream_ignore" style="zoom:50%;" /></p>
<p>基类初始化器：</p>
<p><img src=".\1.4.5.iostream_ctor.png" alt="iostream_ctor" style="zoom:50%;" /></p>
<p>控制符<code>flush</code>和<code>endl</code>都在<code>&lt;ostream&gt;</code>里，它们是内联函数：</p>
<p><img src=".\1.4.4.iostream_endl.png" alt="1.4.4.iostream_endl" style="zoom:50%;" /></p>
<h3
id="ifstreamofstream"><code>ifstream</code>&amp;<code>ofstream</code></h3>
<p>以<code>ifstream</code>类为例：</p>
<p><img src=".\1.5.1.fstream_ctor.png" alt="fstream_ctor" style="zoom:50%;" /></p>
<p><img src=".\1.5.2.fstream_detor.png" alt="fstream_detor" style="zoom:50%;" /></p>
<h3 id="fstream"><code>fstream</code></h3>
<p>这些是<code>filebuf</code>类里的：</p>
<p><img src=".\1.6.1.fstream_open.png" alt="fstream_open" style="zoom:50%;" /></p>
<p><img src=".\1.6.2.fstream_close.png" alt="fstream_close" style="zoom:50%;" /></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="sidebar-inner sidebar-post-related">
            <div class="animated">
                <div class="links-of-blogroll-title"><i class="fa fa-signs-post fa-fw"></i>
    Related Posts
  </div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2025/04/07/algo-fastio/" rel="bookmark">
        <time class="popular-posts-time">2025-04-07</time>
        <br>
      算法竞赛: 常数优化之快读快写
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2024/03/14/cpp-string/" rel="bookmark">
        <time class="popular-posts-time">2024-03-14</time>
        <br>
      Cpp STL: std::string
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2023/10/09/c-beginner/" rel="bookmark">
        <time class="popular-posts-time">2023-10-09</time>
        <br>
      C: 基本语法
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2023/10/03/markdown-beginner/" rel="bookmark">
        <time class="popular-posts-time">2023-10-03</time>
        <br>
      Markdown: 简单易学的笔记语言
      </a>
    </li>
  </ul>

            </div>
          </div>

          <div class="post-tags">
              <a href="/tags/beginner/" rel="tag"># beginner</a>
              <a href="/tags/I-O-API/" rel="tag"># I/O API</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/01/11/python-pyplot/" rel="prev" title="Python: 使用pyplot可视化">
                  <i class="fa fa-angle-left"></i> Python: 使用pyplot可视化
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/02/02/python-data-structure/" rel="next" title="Python: 常用的数据结构">
                  Python: 常用的数据结构 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">ishio</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Word count total">241k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">14:38</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script>
(function() {
    if (document.readyState !== 'loading') {
        initCategoryCollapse();
    } else {
        document.addEventListener('DOMContentLoaded', initCategoryCollapse);
    }

    function initCategoryCollapse() {
        var categoryItems = document.querySelectorAll('.category-all-page .category-list-item');
        
        categoryItems.forEach(function(item) {
            var childList = item.querySelector('.category-list-child');
            
            if (childList) {
                var titleLink = item.querySelector('.category-list-link');
                if (!titleLink) return;
                
                item.classList.add('has-child');
                
                var toggleIcon = document.createElement('span');
                toggleIcon.className = 'collapse-icon';
                toggleIcon.innerHTML = ' ▸';
                titleLink.parentNode.insertBefore(toggleIcon, titleLink.nextSibling);
                
                childList.style.display = 'none';
                item.classList.add('collapsed');
                
                titleLink.style.cursor = 'pointer';
                titleLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    item.classList.toggle('collapsed');
                    if (item.classList.contains('collapsed')) {
                        childList.style.display = 'none';
                        toggleIcon.innerHTML = ' ▸';
                    } else {
                        childList.style.display = 'block';
                        toggleIcon.innerHTML = ' ▾';
                    }
                });
                
                toggleIcon.style.cursor = 'pointer';
                toggleIcon.addEventListener('click', function(e) {
                    e.stopPropagation();
                    titleLink.click();
                });
            }
        });
    }
})();
</script>

</body>
</html>
